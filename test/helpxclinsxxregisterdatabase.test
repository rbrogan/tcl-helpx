package require tcltest
package require helpx

::tcltest::test HelpxCliNS::RegisterDatabase-0 {Basic test}  -setup {}  -body {package require sqlite3
sqlite3 sample-helpxdb sample-helpx.db
HelpxCliNS::RegisterDatabase sample-helpxdb
helpx -sig sample
}  -cleanup {}  -result {}  -output {SIGNATURE
    sample {args}

}  -returnCodes {0}  


::tcltest::test HelpxCliNS::RegisterDatabase-1 {Register two databases}  -setup {}  -body {package require sqlite3
sqlite3 sample-helpxdb sample-helpx.db
sqlite3 sample2-helpxdb sample2-helpx.db
HelpxCliNS::RegisterDatabase sample-helpxdb
HelpxCliNS::RegisterDatabase sample2-helpxdb
helpx -desc sample
}  -cleanup {}  -result {}  -output {DESCRIPTION
    Sample command.

}  -returnCodes {0}  


::tcltest::test HelpxCliNS::RegisterDatabase-2 {Register the same database twice}  -setup {}  -body {package require sqlite3
sqlite3 sample-helpxdb sample-helpx.db
HelpxCliNS::RegisterDatabase sample-helpxdb
HelpxCliNS::RegisterDatabase sample-helpxdb
helpx -sig sample
}  -cleanup {}  -result {}  -output {SIGNATURE
    sample {args}

}  -returnCodes {0}  


